name: Main Workflow

on:
  # 手动触发
  workflow_dispatch:
  # Cron触发（初始时间）
  schedule:
    - cron: '0 8 * * *'  # 默认计划为每天早上8点

jobs:
  main:
    runs-on: ubuntu-latest
    steps:
      - name: Check out repository
        uses: actions/checkout@v2

      - name: Run your task
        run: echo "Running the main workflow..."

      - name: Trigger secondary workflow to modify cron schedule
        uses: peter-evans/workflow-dispatch@v1
        with:
          repository: ${{ github.repository }}
          workflow: secondary.yml
          ref: main
